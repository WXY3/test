<mxfile host="app.diagrams.net" modified="2022-02-16T10:02:21.498Z" agent="5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36" etag="P5mUwWVN_t-hURgsuEVK" version="16.5.6" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="2253" dy="697" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" background="none" math="0" shadow="1">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-2" value="" style="rounded=0;html=1;jettySize=auto;orthogonalLoop=1;fontSize=11;endArrow=block;endFill=0;endSize=8;strokeWidth=1;shadow=0;labelBackgroundColor=none;edgeStyle=orthogonalEdgeStyle;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-3" target="WIyWlLk6GJQsqaUBKTNV-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-3" value="&amp;nbsp;优雅切换" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="160" y="80" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-4" value="Yes" style="rounded=0;html=1;jettySize=auto;orthogonalLoop=1;fontSize=11;endArrow=block;endFill=0;endSize=8;strokeWidth=1;shadow=0;labelBackgroundColor=none;edgeStyle=orthogonalEdgeStyle;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-6" target="WIyWlLk6GJQsqaUBKTNV-10" edge="1">
          <mxGeometry y="20" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-5" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;fontSize=11;endArrow=block;endFill=0;endSize=8;strokeWidth=1;shadow=0;labelBackgroundColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-6" target="WIyWlLk6GJQsqaUBKTNV-7" edge="1">
          <mxGeometry y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-6" value="获取老主库信息" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="170" y="160" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-7" value="终止" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="330" y="180" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-9" value="NO" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;fontSize=11;endArrow=block;endFill=0;endSize=8;strokeWidth=1;shadow=0;labelBackgroundColor=none;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-10" target="WIyWlLk6GJQsqaUBKTNV-12" edge="1">
          <mxGeometry y="10" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-10" target="A9h22xtHigy38qOm3iYj-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-19" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-14" vertex="1" connectable="0">
          <mxGeometry x="-0.2" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-10" value="获取从库列表" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="170" y="280" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-12" value="终止" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="330" y="300" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-9" value="where&#xa;   master_host = &quot;bjrw-platform-tidb-test-001.test.bjrw.momo.com&quot;&#xa;   and master_port = 3310&#xa;order by&#xa;read_only asc, replication_depth asc;" style="text;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-230" y="305" width="360" height="90" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-10" value="where&#xa; cluster_name = &quot;bjrw-platform-tidb-test-003.test.bjrw.momo.com:3310&quot;&#xa;and (replication_depth = 0 or is_co_master)&#xa;order by&#xa;read_only asc, replication_depth asc;" style="text;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-230" y="160" width="400" height="90" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="A9h22xtHigy38qOm3iYj-13" target="A9h22xtHigy38qOm3iYj-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-24" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-16" vertex="1" connectable="0">
          <mxGeometry x="-0.4333" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="A9h22xtHigy38qOm3iYj-13" target="A9h22xtHigy38qOm3iYj-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-27" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-23" vertex="1" connectable="0">
          <mxGeometry x="-0.28" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-13" value="获取新主信息" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="170" y="410" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-15" value="终止" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="330" y="430" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="A9h22xtHigy38qOm3iYj-22" target="A9h22xtHigy38qOm3iYj-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-28" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-26" vertex="1" connectable="0">
          <mxGeometry x="-0.3667" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="A9h22xtHigy38qOm3iYj-22" target="A9h22xtHigy38qOm3iYj-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-32" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-30" vertex="1" connectable="0">
          <mxGeometry x="-0.04" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-22" value="实时获取老主库信息" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="170" y="540" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-25" value="终止" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="330" y="560" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="A9h22xtHigy38qOm3iYj-29" target="A9h22xtHigy38qOm3iYj-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-34" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-33" vertex="1" connectable="0">
          <mxGeometry x="-0.0667" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="A9h22xtHigy38qOm3iYj-29" target="A9h22xtHigy38qOm3iYj-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-43" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-39" vertex="1" connectable="0">
          <mxGeometry x="-0.475" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-29" value="判读延迟" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="170" y="680" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-31" value="终止" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="330" y="700" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-37" value="获取非新主从库" style="swimlane;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-160" y="820" width="1060" height="610" as="geometry">
            <mxRectangle x="-160" y="820" width="120" height="23" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="A9h22xtHigy38qOm3iYj-37" source="A9h22xtHigy38qOm3iYj-38" target="A9h22xtHigy38qOm3iYj-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-44" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-42" vertex="1" connectable="0">
          <mxGeometry x="-0.2571" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-38" value="获取老主库信息" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="175" y="40" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-40" value="where&#xa;   hostname = ?&#xa;   and port = ?&#xa;order by &quot;&quot;;" style="text;whiteSpace=wrap;html=1;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="65" y="50" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-41" value="不进行切换" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="345" y="60" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="A9h22xtHigy38qOm3iYj-37" source="A9h22xtHigy38qOm3iYj-45" target="A9h22xtHigy38qOm3iYj-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-50" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-48" vertex="1" connectable="0">
          <mxGeometry x="-0.0857" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-45" value="获取新主库信息" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="175" y="150" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="A9h22xtHigy38qOm3iYj-37" source="A9h22xtHigy38qOm3iYj-38" target="A9h22xtHigy38qOm3iYj-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-51" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-46" vertex="1" connectable="0">
          <mxGeometry x="0.28" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-47" value="不进行切换" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="345" y="170" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-49" value="where&#xa;   hostname = ?&#xa;   and port = ?&#xa;order by &quot;&quot;;" style="text;whiteSpace=wrap;html=1;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="65" y="150" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="A9h22xtHigy38qOm3iYj-37" source="A9h22xtHigy38qOm3iYj-53" target="A9h22xtHigy38qOm3iYj-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-65" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-56" vertex="1" connectable="0">
          <mxGeometry x="-0.1714" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-53" value="读从库列表信息" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="175" y="260" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-54" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="A9h22xtHigy38qOm3iYj-37" source="A9h22xtHigy38qOm3iYj-45" target="A9h22xtHigy38qOm3iYj-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-55" value="不进行切换" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="345" y="280" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-62" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="A9h22xtHigy38qOm3iYj-37" source="A9h22xtHigy38qOm3iYj-57" target="A9h22xtHigy38qOm3iYj-61" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-57" value="去除新主信息" style="whiteSpace=wrap;html=1;shadow=0;strokeWidth=1;spacing=6;spacingTop=-4;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="165" y="369" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-58" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="A9h22xtHigy38qOm3iYj-37" source="A9h22xtHigy38qOm3iYj-53" target="A9h22xtHigy38qOm3iYj-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-64" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="A9h22xtHigy38qOm3iYj-37" source="A9h22xtHigy38qOm3iYj-61" target="A9h22xtHigy38qOm3iYj-63" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="A9h22xtHigy38qOm3iYj-37" source="A9h22xtHigy38qOm3iYj-61" target="A9h22xtHigy38qOm3iYj-67" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="500" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-69" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-68" vertex="1" connectable="0">
          <mxGeometry x="0.1036" relative="1" as="geometry">
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-61" value="检查UUiD" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="175" y="480" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-63" value="不进行切换" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="345" y="500" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-66" value="切换非新主从库" style="swimlane;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="520" y="40" width="540" height="530" as="geometry">
            <mxRectangle x="520" y="40" width="120" height="23" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-73" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="A9h22xtHigy38qOm3iYj-66" source="A9h22xtHigy38qOm3iYj-67" target="A9h22xtHigy38qOm3iYj-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-67" value="binlogserver" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="A9h22xtHigy38qOm3iYj-66" vertex="1">
          <mxGeometry x="140" y="40" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-72" value="other切换逻辑" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="A9h22xtHigy38qOm3iYj-66" vertex="1">
          <mxGeometry x="347" y="60" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-76" value="切换成功" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="A9h22xtHigy38qOm3iYj-66" vertex="1">
          <mxGeometry x="140" y="170" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-77" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="A9h22xtHigy38qOm3iYj-66" source="A9h22xtHigy38qOm3iYj-67" target="A9h22xtHigy38qOm3iYj-76" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-78" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-77" vertex="1" connectable="0">
          <mxGeometry x="-0.5059" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-88" value="No" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="A9h22xtHigy38qOm3iYj-66" source="A9h22xtHigy38qOm3iYj-82" target="A9h22xtHigy38qOm3iYj-87" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-82" value="切换成功了一个" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="A9h22xtHigy38qOm3iYj-66" vertex="1">
          <mxGeometry x="280" y="170" width="100" height="80" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-83" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;orthogonalLoop=1;jettySize=auto;html=1;" parent="A9h22xtHigy38qOm3iYj-66" source="A9h22xtHigy38qOm3iYj-76" target="A9h22xtHigy38qOm3iYj-82" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-86" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-83" vertex="1" connectable="0">
          <mxGeometry x="-0.325" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-84" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="A9h22xtHigy38qOm3iYj-66" source="A9h22xtHigy38qOm3iYj-82" target="A9h22xtHigy38qOm3iYj-76" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="240" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-85" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-84" vertex="1" connectable="0">
          <mxGeometry x="-0.0818" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-87" value="不进行切换" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="A9h22xtHigy38qOm3iYj-66" vertex="1">
          <mxGeometry x="420" y="190" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-75" value="master_host = ?&#xa;and master_port = ?" style="text;whiteSpace=wrap;html=1;" parent="A9h22xtHigy38qOm3iYj-37" vertex="1">
          <mxGeometry x="40" y="280" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="A9h22xtHigy38qOm3iYj-89" target="A9h22xtHigy38qOm3iYj-91" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-93" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-92" vertex="1" connectable="0">
          <mxGeometry x="-0.4286" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-5" value="Yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="A9h22xtHigy38qOm3iYj-89" target="Tm0qjW34Rfa3M15XgK8H-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-89" value="从库数据-1和非新主从库数量" style="rhombus;whiteSpace=wrap;html=1;shadow=0;fontFamily=Helvetica;fontSize=12;align=center;strokeWidth=1;spacing=6;spacingTop=-4;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="270" y="1460" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-91" value="判断退出" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="460" y="1480" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="A9h22xtHigy38qOm3iYj-76" target="A9h22xtHigy38qOm3iYj-89" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="A9h22xtHigy38qOm3iYj-95" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="A9h22xtHigy38qOm3iYj-94" vertex="1" connectable="0">
          <mxGeometry x="-0.6321" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="Tm0qjW34Rfa3M15XgK8H-4" target="Tm0qjW34Rfa3M15XgK8H-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-11" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="Tm0qjW34Rfa3M15XgK8H-7">
          <mxGeometry x="-0.1818" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-4" value="获取复制用户密码" style="whiteSpace=wrap;html=1;shadow=0;strokeWidth=1;spacing=6;spacingTop=-4;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="270" y="1580" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="Tm0qjW34Rfa3M15XgK8H-6" target="Tm0qjW34Rfa3M15XgK8H-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="Tm0qjW34Rfa3M15XgK8H-6" target="Tm0qjW34Rfa3M15XgK8H-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-16" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="Tm0qjW34Rfa3M15XgK8H-13">
          <mxGeometry x="0.05" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-6" value="判断新主binlog位置是否靠前" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeWidth=1;spacing=6;spacingTop=-4;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="270" y="1684" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-8" value="判断退出" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="460" y="1699" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="Tm0qjW34Rfa3M15XgK8H-12" target="Tm0qjW34Rfa3M15XgK8H-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="Tm0qjW34Rfa3M15XgK8H-12" target="Tm0qjW34Rfa3M15XgK8H-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-12" value="注册恢复" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeWidth=1;spacing=6;spacingTop=-4;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="270" y="1819" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-14" value="判断退出" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="460" y="1834" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Tm0qjW34Rfa3M15XgK8H-17" value="切老主" style="rhombus;whiteSpace=wrap;html=1;shadow=0;strokeWidth=1;spacing=6;spacingTop=-4;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="270" y="1930" width="120" height="70" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
